<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
  html, body{
    height: 100%;
  }
  
  .menu-link{
    cursor: pointer;
  }
  .menu-link:hover{
    background: #b6e6e6 !important;
  }
         
  
/* notifcation dropdown start */
.notifications_btn {
  background-color: #edecec;
  cursor: pointer;
  color: black;
  font-size: 0.825rem;
  border: none;

}

.notifications_menu {
  position: relative;
  display: inline-block;
}

.notifications-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  width: max-content;
  max-width: 240px;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
  overflow: hidden;
  
}

.notifications-content a {
  color: black;
  padding: 6px 10px;
  text-decoration: none;
  display: block;
  max-height: 40px;
  line-height: 32px;  
  word-wrap: normal;
  overflow: hidden;
  
}

.notifications-content a:hover {background-color: #ddd;}

.notifications_menu:hover .notifications-content {display: block;}

.notifications_menu:hover .notifications_btn {background-color: #e2f6ed;}

/* notifcation dropdown end */

.noti_comp{
  width: max-content;
  width: 30%;
}


  @media only screen and (max-width: 575px) {
     .navmenu_class{
         display: none;
         width: 100% !important;
     }
  }
  </style>
</head>
<body>

      <div class="d-flex flex-column h-100">
         <!-- top menu -->
         <div class="p-2 bg-primary text-white rounded text-center d-flex justify-content-start align-items-center main_header">
         
         <div class="flex-fill bg-dark">         
            <div class="bg-dark d-flex justify-content-start align-items-center gap-2">
               <button class="btn btn-light text-dark" id="navmenu_toggle"><i id="navicon" class="btn-close"></i></button>
               <span class="h5">My Home</span>
            </div>            
         </div>
         
         <div class="flex-fill bg-info d-flex justify-content-center align-items-center" id="desktop_search_cnt">

             <form class="d-flex w-75" id="desktop_search">
                  <input class="form-control me-1" type="text" placeholder="Search">
                  <button class="btn btn-dark btn-sm" type="button"><i class="fa fa-search"></i></button>
              </form>

         </div>


         <div class="p-2 bg-danger d-flex justify-content-around align-items-center noti_comp">
           <!-- Notifications menu start -->
           

          <div id="desktop_notifications_cnt">
            <div class="notifications_menu" id="desktop_notifications">
             <i class="fa fa-bell-o text-dark" style="font-size:20px;"></i>
               <button class="notifications_btn">Notifications</button>
               <div class="notifications-content">
                <a href="#">Link 11111111111 111111 111111aaa1111111111</a>
                <a href="#">Link 2</a>
                <a href="#">Link 3</a>
               </div>
            </div>
          </div>
          <div style="margin-left:auto !important;" class="ms-1">
          <i class="fa fa-envelope-o text-dark" style="font-size:20px;"></i>
          </div>

<!-- Notifications menu end -->
         </div>
         
         
         </div>
         <!-- top menu end -->
         <div class="p-0 m-0 main_content h-100 bg-warning d-flex align-items-stretch">
           <!-- aside -->
               <!-- aside menu -->
               <div class="border border-success bg-dark w-25 navmenu_class" id="navmenu">
                  <div class="container-fluid m-0 p-0 d-flex flex-column justify-content-start align-items-center p-2 bg-danger">
                     <h5>Menu</h5>
                     <div class="container d-flex flex-column justify-content-center align-items-center gap-2" id="mobile_items">
                     </div>
                  </div>
                  <!-- nav links start -->
                  <div class="d-flex flex-column bg-dark">
                     <div class="gap-3 border border-secondary d-flex flex-column justify-content-start align-items-center w-100 p-2 h-75  flex-grow-1">
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">1</div>
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">2</div>
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">3</div>
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">4</div>
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">5</div>
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">6</div>
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">6</div>
                     </div>
                     <!-- footer navlinks -->
                     <div class="border  d-flex flex-column justify-content-start align-items-center w-100 gap-3 p-2 mt-5 h-25">
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">4</div>
                        <div class="p-2 border border-secondary rounded w-100 d-flex justify-content-center align-items-center menu-link shadow-sm bg-light">5</div>
                     </div>
                     <!-- end navlinks footer -->
                  </div>
                  <!-- navlinks end -->
               </div>           
           <!-- aside end -->
           <div class="flex-fill border border-secondary content_body" id="content_body_id">21</div>
         </div>
      </div>
      <script>
         // this to help jquery wait until toggle end else will make messy
         let navAction = true;
         // function to switch between classes
         const removeAndAdd = (elmid, removeList, addList)=>{
           const targetElm = $(`#${elmid}`);
           removeList.forEach( (rcl)=>{      
             if (targetElm.hasClass(rcl)){
               targetElm.removeClass(rcl);
             }
           });
           addList.forEach( (acl)=>{      
             if (!targetElm.hasClass(acl)){
                 targetElm.addClass(acl);
             }
           });
         
         };
         const navToggleEnds = ()=> {
           // update the navmenu icon dynamic async with jquery
           if($('#navmenu:visible').length == 0){
             removeAndAdd('navicon', ['fa-spinner', 'fa-spin'], ["fa-bars", "fa"]);
             

             $("#content_body_id").css("display", "");

           } else {
             removeAndAdd('navicon', ['fa-spinner', 'fa-spin', 'fa'], ["btn-close"]);
           }
           navAction = true;
         };
         
         const mainContentFixer = ()=>{
               if ($(window).width() > 575){
                 if($('#content_body_id:visible').length == 0){
                   $("#content_body_id").css("display", "");
                 }
               } else {
                 if($('#navmenu:visible').length == 0){
                   $("#content_body_id").css("display", "");
                 } else {
                   $("#content_body_id").css("display", "none");
                 }
               }         
         
         };
         
         /* function to display correct icon bassed on navmenu status this asynced with css media query*/
         const iconFixer = ()=>{
              if($('#navmenu:visible').length == 0){
               removeAndAdd('navicon', ['btn-close'], ["fa-bars", "fa"]);               
             } else {
               removeAndAdd('navicon', ['fa-bars', 'fa'], ["btn-close"]);
             }
             // display or hide content body depend on screen width
             mainContentFixer();
         };
         
         const transferElmFromTo = (elm,to)=> {
           const targetElm = $(`#${elm}`);
           const toElm = $(`#${to}`);
           if ($(`#${to} #${elm}`).length == 0){
             toElm.append(targetElm);
           }
         };
         // function to display nav items depend on the screen width
         const navItemsFix = ()=>{
           if ($(window).width() < 575){
             // mobile
             transferElmFromTo('desktop_search','mobile_items');
             transferElmFromTo('desktop_notifications','mobile_items');             
           } else {
             // desktop
             transferElmFromTo('desktop_search','desktop_search_cnt');
             transferElmFromTo('desktop_notifications','desktop_notifications_cnt');
             
           }
         
         };
         
         $(function() {
           $("#navmenu_toggle").on("click", ()=>{
             if (navAction == true){
             
               // hide main content if mobile size
               if ($(window).width() < 575){
                 if($('#navmenu:visible').length == 0){
                   $("#content_body_id").css("display", "none");
                 }
               }
               
               removeAndAdd('navicon', ['btn-close', 'fa-bars', 'fa'], ['fa', 'fa-spinner', 'fa-spin']);
               $("#navmenu").toggle('mid', 'swing', navToggleEnds);               
               navAction = false;
             }
           });
           
           // based on device size or factly display of navmenu show the icon
           iconFixer();
           
           // media query work on it's own with width and this will display the correct icon so not let js work with width
           $( window ).resize(function() {iconFixer();});         
           
           // display navitems depend on the page width
           navItemsFix();
           $( window ).resize(function() {navItemsFix();}); 
         });
          //$("#navmenu_toggle").toggle(speed,easing,callback)
      </script>
</body>
</html>
